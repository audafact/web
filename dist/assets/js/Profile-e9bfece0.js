import{j as a}from"./audio-0ea8d21d.js";import{u as e}from"./index-a73b4fa8.js";import{r as s}from"./vendor-b17dff21.js";import{u as t}from"./useUserAccess-a2b05641.js";import{a as c,b as d}from"./stripeService-1c21ca88.js";import{T as r,a as n,g as l,h as i,i as o,U as m,j as u}from"./ui-e2671ff1.js";import"./auth-86c3050d.js";const x=()=>{const{accessTier:e,subscriptionId:m,planInterval:u,loading:x}=t(),[h,f]=s.useState(!1),[j,b]=s.useState(!1);return x?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):"pro"!==e?a.jsx("div",{className:"audafact-card p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(r,{className:"h-12 w-12 text-audafact-accent-cyan mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold audafact-heading mb-2",children:"Free Plan Active"}),a.jsx("p",{className:"audafact-text-secondary mb-4",children:"You're currently on the free plan. Upgrade to Pro Creator to unlock all features."}),a.jsx("a",{href:"/pricing",className:"audafact-button-primary",children:"Upgrade to Pro"})]})}):a.jsxs("div",{className:"audafact-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(n,{className:"h-8 w-8 text-audafact-accent-green mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold audafact-heading",children:"Pro Creator Plan"}),a.jsx("p",{className:"text-sm audafact-text-secondary",children:"monthly"===u?"Monthly billing":"Annual billing"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold audafact-heading",children:"monthly"===u?"$8":"$72"}),a.jsxs("div",{className:"text-sm audafact-text-secondary",children:["per ","monthly"===u?"month":"year"]})]})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"flex items-center text-sm audafact-text-secondary",children:[a.jsx(l,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{children:["Subscription ID: ",m?.slice(-8)||"N/A"]})]}),a.jsxs("div",{className:"flex items-center text-sm audafact-text-secondary",children:[a.jsx(i,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{children:["Billing Cycle: ","monthly"===u?"Monthly":"Annual"]})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:async()=>{f(!0);try{const{url:a,error:e}=await c();if(e)return void alert(`Error: ${e}`);a&&(window.location.href=a)}catch(a){alert("Failed to open billing portal")}finally{f(!1)}},disabled:h,className:"flex-1 flex items-center justify-center px-4 py-2 border border-audafact-divider rounded-md shadow-sm text-sm font-medium audafact-text-secondary bg-audafact-surface-2 hover:bg-audafact-divider focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-audafact-accent-blue disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[h?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-audafact-text-secondary mr-2"}):a.jsx(o,{className:"h-4 w-4 mr-2"}),"Manage Billing"]}),a.jsxs("button",{onClick:async()=>{if(confirm("Are you sure you want to cancel your subscription? You will lose access to Pro features at the end of your current billing period.")){b(!0);try{const{success:a,error:e}=await d();if(e)return void alert(`Error: ${e}`);a&&(alert("Your subscription has been canceled. You will have access until the end of your billing period."),window.location.reload())}catch(a){alert("Failed to cancel subscription")}finally{b(!1)}}},disabled:j,className:"flex-1 flex items-center justify-center px-4 py-2 border border-audafact-alert-red rounded-md shadow-sm text-sm font-medium text-audafact-alert-red bg-audafact-surface-2 hover:bg-audafact-alert-red hover:bg-opacity-10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-audafact-alert-red disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[j?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-audafact-alert-red mr-2"}):a.jsx(r,{className:"h-4 w-4 mr-2"}),"Cancel Subscription"]})]}),a.jsx("div",{className:"mt-4 p-4 bg-audafact-accent-blue bg-opacity-10 rounded-md border border-audafact-accent-blue border-opacity-20",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(r,{className:"h-5 w-5 text-audafact-accent-blue"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium audafact-heading",children:"Need help?"}),a.jsx("div",{className:"mt-2 text-sm audafact-text-secondary",children:a.jsx("p",{children:"Contact our support team if you have any questions about your subscription or billing."})})]})]})})]})},h=()=>{const{user:s}=e();return s?a.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold audafact-heading mb-2",children:"Profile"}),a.jsx("p",{className:"audafact-text-secondary",children:"Manage your account and subscription"})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("div",{className:"audafact-card-enhanced p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-audafact-accent-blue bg-opacity-20 p-3 rounded-full mr-4",children:a.jsx(m,{className:"h-8 w-8 text-audafact-accent-blue"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold audafact-heading",children:"Account Info"}),a.jsx("p",{className:"audafact-text-secondary",children:"Your personal information"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium audafact-text-secondary mb-1",children:"Email"}),a.jsx("p",{className:"audafact-heading",children:s.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium audafact-text-secondary mb-1",children:"User ID"}),a.jsxs("p",{className:"text-sm audafact-text-secondary font-mono",children:[s.id.slice(0,8),"..."]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium audafact-text-secondary mb-1",children:"Member Since"}),a.jsx("p",{className:"audafact-heading",children:new Date(s.created_at).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"audafact-card-enhanced p-6 mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold audafact-heading mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("a",{href:"/studio",className:"flex items-center p-3 audafact-text-secondary hover:bg-audafact-surface-2 rounded-lg transition-colors",children:[a.jsx(o,{className:"h-5 w-5 mr-3 text-audafact-text-secondary"}),a.jsx("span",{children:"Go to Studio"})]}),a.jsxs("a",{href:"/pricing",className:"flex items-center p-3 audafact-text-secondary hover:bg-audafact-surface-2 rounded-lg transition-colors",children:[a.jsx(l,{className:"h-5 w-5 mr-3 text-audafact-text-secondary"}),a.jsx("span",{children:"View Plans"})]})]})]})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"audafact-card-enhanced p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-audafact-accent-green bg-opacity-20 p-3 rounded-full mr-4",children:a.jsx(u,{className:"h-8 w-8 text-audafact-accent-green"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold audafact-heading",children:"Subscription"}),a.jsx("p",{className:"audafact-text-secondary",children:"Manage your billing and plan"})]})]}),a.jsx(x,{})]}),a.jsxs("div",{className:"audafact-card-enhanced p-6 mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold audafact-heading mb-4",children:"Security"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border border-audafact-divider rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium audafact-heading",children:"Password"}),a.jsx("p",{className:"text-sm audafact-text-secondary",children:"Last changed: Unknown"})]}),a.jsx("button",{className:"text-audafact-accent-blue hover:text-opacity-80 text-sm font-medium transition-colors",children:"Change Password"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border border-audafact-divider rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium audafact-heading",children:"Two-Factor Authentication"}),a.jsx("p",{className:"text-sm audafact-text-secondary",children:"Add an extra layer of security"})]}),a.jsx("button",{className:"text-audafact-accent-blue hover:text-opacity-80 text-sm font-medium transition-colors",children:"Enable 2FA"})]})]})]})]})]})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold audafact-heading mb-4",children:"Please sign in to view your profile"}),a.jsx("a",{href:"/auth",className:"audafact-button-primary",children:"Sign In"})]})})};export{h as Profile};
//# sourceMappingURL=Profile-e9bfece0.js.map
