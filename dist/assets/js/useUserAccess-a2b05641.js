import{r as e}from"./vendor-b17dff21.js";import{u as s,s as r}from"./index-a73b4fa8.js";const t=()=>{const{user:t}=s(),[l,n]=e.useState(null),[a,u]=e.useState(null),[i,c]=e.useState(null),[o,d]=e.useState(!0),[f,p]=e.useState(null);return e.useEffect(()=>{(async()=>{if(!t)return n(null),u(null),c(null),void d(!1);try{d(!0),p(null);const{data:e,error:s}=await r.from("users").select("access_tier, subscription_id, plan_interval").eq("id",t.id).single();s?(p(s.message),n("free")):(n(e?.access_tier||"free"),u(e?.subscription_id||null),c(e?.plan_interval||null))}catch(e){p("Failed to fetch user access"),n("free")}finally{d(!1)}})()},[t]),{accessTier:l,subscriptionId:a,planInterval:i,loading:o,error:f}};export{t as u};
//# sourceMappingURL=useUserAccess-a2b05641.js.map
