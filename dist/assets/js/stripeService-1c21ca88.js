import{s as e}from"./index-a73b4fa8.js";const r=async r=>{try{const{data:{user:t}}=await e.auth.getUser();if(!t)return{error:"User not authenticated"};const{data:s,error:a}=await e.functions.invoke("create-checkout-session",{body:{priceId:r,userId:t.id,email:t.email,successUrl:`${window.location.origin}/checkout-result?success=true`,cancelUrl:`${window.location.origin}/checkout-result?canceled=true`}});return a?{error:a.message||"Failed to create checkout session"}:{url:s?.url}}catch(t){return{error:"Failed to create checkout session"}}},t=async()=>{try{const{data:{user:r}}=await e.auth.getUser();if(!r)return{error:"User not authenticated"};const{data:t,error:s}=await e.functions.invoke("create-portal-session",{body:{userId:r.id,returnUrl:`${window.location.origin}/studio`}});return s?{error:s.message||"Failed to create portal session"}:{url:t?.url}}catch(r){return{error:"Failed to create portal session"}}},s=async()=>{try{const{data:{user:r}}=await e.auth.getUser();if(!r)return{success:!1,error:"User not authenticated"};const{data:t,error:s}=await e.functions.invoke("cancel-subscription",{body:{userId:r.id}});return s?{success:!1,error:s.message||"Failed to cancel subscription"}:{success:!0}}catch(r){return{success:!1,error:"Failed to cancel subscription"}}};export{t as a,s as b,r as c};
//# sourceMappingURL=stripeService-1c21ca88.js.map
